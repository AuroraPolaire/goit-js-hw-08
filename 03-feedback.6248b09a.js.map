{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAEMC,EAAOC,SAASC,cAAc,kBACpC,IAAIC,EAAc,IAIlB,WACE,IACE,IAAIC,EAAOC,aAAaC,QATJ,uBAUhBF,IACFA,EAAOG,KAAKC,MAAMJ,GAClBK,OAAOC,QAAQN,GAAMO,SAAQ,EAAEC,EAAMC,MACnCb,EAAKc,SAASF,GAAMC,MAAQA,CAAK,I,CAGrC,MAAOE,GACPC,QAAQC,IAAI,Q,EAZhBC,GAwBAlB,EAAKmB,iBAAiB,QAASC,EAAAtB,GAAEuB,UARjC,UAAyBC,OAAEA,IACzBnB,EAAcE,aAAaC,QAtBL,uBAuBtBH,EAAcA,EAAcI,KAAKC,MAAML,GAAe,GACtDA,EAAYmB,EAAOV,MAAQU,EAAOT,MAElCR,aAAakB,QA1BS,sBA0BgBhB,KAAKiB,UAAUrB,G,GAGI,MAC3DH,EAAKmB,iBAAiB,UAAUM,IAC9BA,EAAMC,iBACO,IAAIC,SAAS3B,GACrBW,SAAQ,CAACE,EAAOD,IAASI,QAAQC,IAAIL,EAAMC,KAChDb,EAAK4B,OAAO,IAGd5B,EAAKmB,iBAAiB,SAAS,KAC7Bd,aAAawB,WAtCS,sBAsCkB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst localStorageKey = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nlet inputValues = {};\n\nfillFormFields();\n\nfunction fillFormFields() {\n  try {\n    let data = localStorage.getItem(localStorageKey);\n    if (data) {\n      data = JSON.parse(data);\n      Object.entries(data).forEach(([name, value]) => {\n        form.elements[name].value = value;\n      });\n    }\n  } catch (error) {\n    console.log(`error`);\n  }\n}\n\nfunction onInputValueGet({ target }) {\n  inputValues = localStorage.getItem(localStorageKey);\n  inputValues = inputValues ? JSON.parse(inputValues) : {};\n  inputValues[target.name] = target.value;\n\n  localStorage.setItem(localStorageKey, JSON.stringify(inputValues));\n}\n\nform.addEventListener('input', _.throttle(onInputValueGet, 500));\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const data = new FormData(form);\n  data.forEach((value, name) => console.log(name, value));\n  form.reset();\n});\n\nform.addEventListener('reset', () => {\n  localStorage.removeItem(localStorageKey);\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$inputValues","data","localStorage","getItem","JSON","parse","Object","entries","forEach","name","value","elements","error","console","log","$945622fd0f572e60$var$fillFormFields","addEventListener","$parcel$interopDefault","throttle","target","setItem","stringify","event","preventDefault","FormData","reset","removeItem"],"version":3,"file":"03-feedback.6248b09a.js.map"}