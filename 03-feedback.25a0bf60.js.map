{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MACMC,EAAOC,SAASC,cAAc,mBAIpC,WACE,IACE,IAAIC,EAAOC,aAAaC,QAPJ,uBAQhBF,IACFA,EAAOG,KAAKC,MAAMJ,GAClBK,OAAOC,QAAQN,GAAMO,SAAQ,EAAEC,EAAMC,MACnCZ,EAAKa,SAASF,GAAMC,MAAQA,CAAK,I,CAGrC,MAAOE,GACPC,QAAQC,IAAI,Q,EAZhBC,GAwBAjB,EAAKkB,iBAAiB,QAASC,EAAArB,GAAEsB,UARjC,UAAyBC,OAAEA,IACzB,IAAIC,EAAclB,aAAaC,QApBT,uBAqBtBiB,EAAcA,EAAchB,KAAKC,MAAMe,GAAe,GACtDA,EAAYD,EAAOV,MAAQU,EAAOT,MAElCR,aAAamB,QAxBS,sBAwBgBjB,KAAKkB,UAAUF,G,GAGI,MAC3DtB,EAAKkB,iBAAiB,UAAUO,IAC9BA,EAAMC,iBACO,IAAIC,SAAS3B,GACrBU,SAAQ,CAACE,EAAOD,IAASI,QAAQC,IAAIL,EAAMC,KAChDZ,EAAK4B,OAAO,IAGd5B,EAAKkB,iBAAiB,SAAS,KAC7Bd,aAAayB,WApCS,sBAoCkB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst localStorageKey = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nfillFormFields();\n\nfunction fillFormFields() {\n  try {\n    let data = localStorage.getItem(localStorageKey);\n    if (data) {\n      data = JSON.parse(data);\n      Object.entries(data).forEach(([name, value]) => {\n        form.elements[name].value = value;\n      });\n    }\n  } catch (error) {\n    console.log(`error`);\n  }\n}\n\nfunction onInputValueGet({ target }) {\n  let inputValues = localStorage.getItem(localStorageKey);\n  inputValues = inputValues ? JSON.parse(inputValues) : {};\n  inputValues[target.name] = target.value;\n\n  localStorage.setItem(localStorageKey, JSON.stringify(inputValues));\n}\n\nform.addEventListener('input', _.throttle(onInputValueGet, 500));\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const data = new FormData(form);\n  data.forEach((value, name) => console.log(name, value));\n  form.reset();\n});\n\nform.addEventListener('reset', () => {\n  localStorage.removeItem(localStorageKey);\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","data","localStorage","getItem","JSON","parse","Object","entries","forEach","name","value","elements","error","console","log","$945622fd0f572e60$var$fillFormFields","addEventListener","$parcel$interopDefault","throttle","target","inputValues","setItem","stringify","event","preventDefault","FormData","reset","removeItem"],"version":3,"file":"03-feedback.25a0bf60.js.map"}